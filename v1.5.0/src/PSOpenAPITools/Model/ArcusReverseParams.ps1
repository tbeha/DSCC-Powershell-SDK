#
# Data Services Cloud Console API
# Data Services Cloud Console API
# Version: 1.5.0
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

No description available.

.PARAMETER Current
Changes both the role and the direction of data flow between the protected volume sets. For example, if the roles of the protected volume sets are ""primary"" and ""secondary"", issuing the -current option to the reverse operation will result in the roles of the protected volume set becoming ""secondary-rev"" and ""primary-rev"" respectively, and the direction data flows between the groups is reversed. Since the -current option actually reverses the direction of data replication, it requires the protected volume set be stopped.This option must be used with care to ensure the protected volume sets do not end up in a non-deterministic state (like ""secondary"", ""secondary-rev"" for example) and to ensure data loss does not occur by inadvertently changing the direction of data flow and resyncing old data on top of newer data.
.PARAMETER LocalGroupDirection
This option only applies to the reverse operation, and only when the -natural or -current options to the reverse operation are specified. Specifying this option with the reverse operation and an associated -natural or -current option will only affect the system where the reverse command is issued, and will not be mirrored to any other arrays in the Remote Copy configuration.
.PARAMETER Natural
Changes the role of the protected volume sets but not the direction of data flow between the groups on the arrays. For example, if the role of the protected volume sets are ""primary"" and ""secondary"", issuing the -natural option with the reverse operation will result in the role of the groups becoming ""primary-rev"" and ""secondary-rev"" respectively. The direction of data flow between the protected volume sets is not affected, only the roles. Since the -natural option does not change the direction of data flow between the protected volume sets, it does not require the protected volume sets be stopped. This option must be used with care to ensure the protected volume sets do not end up in a non-deterministic state (like ""secondary"", ""secondary-rev"" for example) and to ensure data loss does not occur by inadvertently changing the direction of data flow and resyncing old data on top of newer data.
.PARAMETER NoSnapshot
Specifies that snapshots are not taken of the protected volume sets that are switched from secondary to primary. Additionally, existing snapshots are deleted if the protected volume sets are switched from primary to secondary. The use of this option may result in a full synchronization of the secondary volumes.
.PARAMETER SkipPromote
Specifies that the synchronized snapshots of the protected volume set that are switched from primary to secondary should not be promoted to the base volume. The incorrect use of this option can lead to the primary and secondary volumes not being consistent.
.PARAMETER StopGroups
Specifies that the system stops the replication before performing the reverse action.
.PARAMETER TargetName
Replication partner name (target name) on which the reverse action to be performed.
.OUTPUTS

ArcusReverseParams<PSCustomObject>
#>

function Initialize-ArcusReverseParams {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${Current},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${LocalGroupDirection},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${Natural},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${NoSnapshot},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${SkipPromote},
        [Parameter(Position = 5, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${StopGroups},
        [Parameter(Position = 6, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${TargetName}
    )

    Process {
        'Creating PSCustomObject: PSOpenAPITools => ArcusReverseParams' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug


        $PSO = [PSCustomObject]@{
            "current" = ${Current}
            "localGroupDirection" = ${LocalGroupDirection}
            "natural" = ${Natural}
            "noSnapshot" = ${NoSnapshot}
            "skipPromote" = ${SkipPromote}
            "stopGroups" = ${StopGroups}
            "targetName" = ${TargetName}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to ArcusReverseParams<PSCustomObject>

.DESCRIPTION

Convert from JSON to ArcusReverseParams<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

ArcusReverseParams<PSCustomObject>
#>
function ConvertFrom-JsonToArcusReverseParams {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: PSOpenAPITools => ArcusReverseParams' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in ArcusReverseParams
        $AllProperties = ("current", "localGroupDirection", "natural", "noSnapshot", "skipPromote", "stopGroups", "targetName")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "current"))) { #optional property not found
            $Current = $null
        } else {
            $Current = $JsonParameters.PSobject.Properties["current"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "localGroupDirection"))) { #optional property not found
            $LocalGroupDirection = $null
        } else {
            $LocalGroupDirection = $JsonParameters.PSobject.Properties["localGroupDirection"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "natural"))) { #optional property not found
            $Natural = $null
        } else {
            $Natural = $JsonParameters.PSobject.Properties["natural"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "noSnapshot"))) { #optional property not found
            $NoSnapshot = $null
        } else {
            $NoSnapshot = $JsonParameters.PSobject.Properties["noSnapshot"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "skipPromote"))) { #optional property not found
            $SkipPromote = $null
        } else {
            $SkipPromote = $JsonParameters.PSobject.Properties["skipPromote"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "stopGroups"))) { #optional property not found
            $StopGroups = $null
        } else {
            $StopGroups = $JsonParameters.PSobject.Properties["stopGroups"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "targetName"))) { #optional property not found
            $TargetName = $null
        } else {
            $TargetName = $JsonParameters.PSobject.Properties["targetName"].value
        }

        $PSO = [PSCustomObject]@{
            "current" = ${Current}
            "localGroupDirection" = ${LocalGroupDirection}
            "natural" = ${Natural}
            "noSnapshot" = ${NoSnapshot}
            "skipPromote" = ${SkipPromote}
            "stopGroups" = ${StopGroups}
            "targetName" = ${TargetName}
        }

        return $PSO
    }

}

